{"version":3,"sources":["webpack://gatsby-starter-default/./node_modules/react-feather/dist/icons/menu.js","webpack://gatsby-starter-default/./src/components/Layout/MdxLayout.tsx","webpack://gatsby-starter-default/./src/pages/docs/dpo-rules.mdx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Menu","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","displayName","HamburgerWrapper","styled","DocsGrid","theme","mediaWidth","upToSmall","DesktopWrapper","MobileWrapper","IconWrapper","primary1","getNavItems","navData","navMap","useMemo","navDataMap","allMdx","nodes","forEach","node","frontmatter","path","pathName","split","reverse","navMeta","map","category","index","fontSize","padding","categoryItem","includes","to","Text","title","subcategory","items","item","DesktopDocNav","DocNav","isMobile","useMedia","useStaticQuery","MobileDocNav","useStyles","makeStyles","list","fullList","React","isOpen","setIsOpen","useContext","ThemeContext","toggleDrawer","open","event","type","onClick","white","Drawer","anchor","onClose","style","MdxLayout","children","Layout","overflow","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-docs-dpo-rules-mdx-2d98fb3160e45b8c5f43.js","sourcesContent":["function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef } from 'react';\nvar Menu = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"12\",\n    x2: \"21\",\n    y2: \"12\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"6\",\n    x2: \"21\",\n    y2: \"6\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"3\",\n    y1: \"18\",\n    x2: \"21\",\n    y2: \"18\"\n  }));\n});\nMenu.displayName = 'Menu';\nexport default Menu;","import { Drawer, makeStyles } from \"@material-ui/core\"\nimport { SLink } from \"components/Link\"\nimport { graphql, useStaticQuery } from \"gatsby\"\nimport React, { useContext, useMemo } from \"react\"\nimport { Menu } from \"react-feather\"\nimport { useMedia } from \"react-use\"\nimport styled, { ThemeContext } from \"styled-components\"\nimport Layout from \".\"\nimport navMeta from \"../Navbar/docnav.json\"\nimport { HeavyText, Text } from \"../Text\"\nimport { ContentSection, ContentWrapper } from \"../Wrapper\"\n\ninterface FrontMatter {\n  title: string | null\n  path: string | null\n  category: string | null\n  sub_category: string | null\n}\n\ninterface FrontMatters {\n  frontmatter: FrontMatter\n}\n\ninterface Nodes {\n  nodes: FrontMatters[]\n}\n\ninterface AllMdx {\n  allMdx: Nodes\n}\n\ninterface NavDataMap {\n  [key: string]: FrontMatter\n}\n\nconst HamburgerWrapper = styled.div`\n  cursor: pointer;\n  :hover {\n    opacity: 0.8;\n  }\n  :active {\n    opacity: 0.9;\n  }\n`\n\nconst DocsGrid = styled.div`\n  display: grid;\n  width: 100%;\n  grid-template-columns: min(180px) auto;\n  grid-column-gap: 1rem;\n  grid-row-gap: 1rem;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n  display: flex;\n  `};\n`\n\nconst DesktopWrapper = styled.div`\n  display: initial;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: none;\n`};\n`\n\nconst MobileWrapper = styled.div`\n  display: none;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: initial;\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n`};\n`\n\nconst IconWrapper = styled.div`\n  border: 1 solid transparent;\n  border-radius: 4px;\n  padding: 0.35rem;\n  background: ${({ theme }) => theme.primary1};\n`\n\nfunction getNavItems(navData: AllMdx) {\n  // Creating a map for access to each link's info\n  const navMap = useMemo(() => {\n    const navDataMap: NavDataMap = {}\n    navData.allMdx.nodes.forEach(node => {\n      if (node.frontmatter.path) {\n        const pathName = node.frontmatter.path.split(\"/\").reverse()[0]\n        navDataMap[pathName] = node.frontmatter\n      }\n    })\n    return navDataMap\n  }, [navData])\n\n  return (\n    <>\n      {Object.keys(navMeta.docs).map((category, index) => (\n        <>\n          <HeavyText key={index} fontSize=\"20px\" padding=\"0.5rem 0\">\n            {category}\n          </HeavyText>\n          {navMeta.docs[category].map(categoryItem => {\n            if (typeof categoryItem === \"string\") {\n              if (Object.keys(navMap).includes(categoryItem)) {\n                return (\n                  <>\n                    {navMap[categoryItem].path && (\n                      <SLink to={navMap[categoryItem].path as string}>\n                        <Text\n                          key={navMap[categoryItem].title}\n                          padding=\"0.15rem 0\"\n                        >\n                          {navMap[categoryItem].title}\n                        </Text>\n                      </SLink>\n                    )}\n                  </>\n                )\n              } else {\n                return null\n              }\n            } else if (typeof categoryItem === \"object\") {\n              return (\n                <>\n                  <HeavyText fontSize=\"16px\" padding=\"0.5rem 0\">\n                    {categoryItem.subcategory}\n                  </HeavyText>\n                  {categoryItem.items.map(item => {\n                    if (Object.keys(navMap).includes(item)) {\n                      return (\n                        <>\n                          {navMap[item].path && (\n                            <SLink to={navMap[item].path as string}>\n                              <Text\n                                key={navMap[item].title}\n                                padding=\"0.15rem 0\"\n                              >\n                                {navMap[item].title}\n                              </Text>\n                            </SLink>\n                          )}\n                        </>\n                      )\n                    } else {\n                      return null\n                    }\n                  })}\n                </>\n              )\n            } else {\n              return null\n            }\n          })}\n        </>\n      ))}\n    </>\n  )\n}\n\nfunction DesktopDocNav({ navData }: { navData: AllMdx }) {\n  return <>{getNavItems(navData)}</>\n}\n\nfunction DocNav() {\n  const isMobile = useMedia(\"(max-width: 720px)\")\n  const navData = useStaticQuery<AllMdx>(graphql`\n    query GetMdxInfo {\n      allMdx {\n        nodes {\n          frontmatter {\n            title\n            path\n            category\n            sub_category\n          }\n        }\n      }\n    }\n  `)\n\n  return (\n    <>\n      {!isMobile ? (\n        <DesktopWrapper>\n          <DesktopDocNav navData={navData} />\n        </DesktopWrapper>\n      ) : (\n        <MobileWrapper>\n          <MobileDocNav navData={navData} />\n        </MobileWrapper>\n      )}\n    </>\n  )\n}\n\nconst useStyles = makeStyles({\n  list: {\n    width: 250,\n  },\n  fullList: {\n    width: \"auto\",\n  },\n})\n\nfunction MobileDocNav({ navData }: { navData: AllMdx }) {\n  const classes = useStyles()\n  const [isOpen, setIsOpen] = React.useState<boolean>(false)\n  const theme = useContext(ThemeContext)\n\n  const toggleDrawer = (open: boolean) => (\n    event: React.KeyboardEvent | React.MouseEvent\n  ) => {\n    if (\n      event.type === \"keydown\" &&\n      ((event as React.KeyboardEvent).key === \"Tab\" ||\n        (event as React.KeyboardEvent).key === \"Shift\")\n    ) {\n      return\n    }\n    setIsOpen(open)\n  }\n\n  return (\n    <>\n      <HamburgerWrapper onClick={toggleDrawer(true)}>\n        <IconWrapper>\n          <Menu size={24} color={theme.white} />\n        </IconWrapper>\n      </HamburgerWrapper>\n      <Drawer anchor={\"right\"} open={isOpen} onClose={toggleDrawer(false)}>\n        <div style={{ padding: \"1rem\" }}>{getNavItems(navData)}</div>\n      </Drawer>\n    </>\n  )\n}\n\nexport default function MdxLayout({ children }) {\n  return (\n    <Layout>\n      <ContentWrapper>\n        <DocsGrid>\n          <DocNav />\n          <ContentSection style={{ overflow: \"scroll\" }}>\n            {children}\n          </ContentSection>\n        </DocsGrid>\n      </ContentWrapper>\n    </Layout>\n  )\n}\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/ashern/projects/spanner/spanner-website/src/components/Layout/MdxLayout.tsx\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`Before you read on, make sure you have read the `}<a parentName=\"p\" {...{\n        \"href\": \"bullettrain.md\"\n      }}>{`BulletTrain Overview`}</a>{`. `}</p>\n    <h2>{`DPO Statuses and Actions`}</h2>\n    <h3>{`CREATED`}</h3>\n    <p>{`A DPO is created by a `}<strong parentName=\"p\">{`Manager`}</strong>{` and has a `}<strong parentName=\"p\">{`Target`}</strong>{` objective and expiry (e.g. crowdfund 1000 BOLTs before block #10000). It has 100 equal-value seats for purchase to earn yields. A target can be to (1) buy an incentive package such as TravelCabin in BulletTrain or (2) chain to another DPO by buying its seats. On creation, the Manager specifies a `}<strong parentName=\"p\">{`Default Target`}</strong>{` which helps determine the DPO's crowdfunding amount.`}</p>\n    <br /><br />\nA Member can be a **User Member**, or a **DPO Member** (DPO buys seats of another DPO).\n    <ul>\n      <li parentName=\"ul\">{`A Manager can buy 0 to 15 seats`}</li>\n      <li parentName=\"ul\">{`A User Member can buy 1 to 15 seats`}</li>\n      <li parentName=\"ul\">{`A DPO Member can buy 1 to 30 seats`}</li>\n    </ul>\n    <p>{`A DPO has 4 token accounts: `}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Deposit Account`}</strong>{` to store funds raised from seats.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Yield Account`}</strong>{` to store yield and milestone rewards.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Bonus Account`}</strong>{` to store bonus rewards.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Withdraw Account`}</strong>{` to store the funds to be withdrawn by seat buyers.`}</li>\n    </ul>\n    <p>{`Funds in the latter three accounts can be released by anyone to their rightful owners. `}</p>\n    <h3>{`ACTIVE`}</h3>\n    <p>{`If seats are sold out before expiry, the DPO becomes ACTIVE and is ready to purchase a target. If the `}<em parentName=\"p\">{`Default Target`}</em>{` is still available, the DPO must buy it. Otherwise, it is free to buy another target. After buying a target, any unused funds will immediately be returned to its Members in proportion to seat. `}</p>\n    <h3>{`FAILED`}</h3>\n    <p>{`If a DPO does not become ACTIVE before expiry, then it has FAILED. All funds in the `}<em parentName=\"p\">{`Deposit Account`}</em>{` will go to its `}<em parentName=\"p\">{`Withdraw Account`}</em>{`. No other actions are allowed except for withdrawing from this DPO. If the member is a DPO, the withdrawn amount will go to its deposit account, which can be used to buy another Target.`}</p>\n    <h3>{`RUNNING`}</h3>\n    <p>{`If a DPO has started receiving rewards.`}</p>\n    <h3>{`COMPLETED`}</h3>\n    <p>{`An ACTIVE DPO becomes COMPLETED upon a successful release of funds from the `}<em parentName=\"p\">{`Withdraw Account`}</em>{`. This can only occur for two cases:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`The purchased Target is an incentive package (e.g. a TravelCabin), and it has matured. The funds will first be withdrawn from the package to the DPO's `}<em parentName=\"li\">{`Withdraw Account`}</em>{`. Once the funds are released to its members, the DPO becomes COMPLETED.`}</li>\n      <li parentName=\"ol\">{`The purchased Target is DPO, and is COMPLETED. This signals the DPO's funds have been returned to its `}<em parentName=\"li\">{`Withdraw Account`}</em>{`. The DPO will also become COMPLETED once funds are released to its members.`}</li>\n    </ol>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}><img parentName=\"th\" {...{\n              \"src\": \"/img/DPO_States.png\",\n              \"alt\": \"DPO States\"\n            }}></img></th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`DPO States and Transitions`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2>{`DPO Incentives`}</h2>\n    <h3>{`Management Fee and Yields`}</h3>\n    <p>{`The Management Fee is applied to each Yield release and is determined by these rules:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Skin In the Game`}</strong>{`: The fee is set as (5 + Z)%, where Z is the number of seats bought by the DPO Manager on creation. This fee will stay the same even if a manager decides to buy additional seats at a later time.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Lifetime Sentence`}</strong>{`: Once ACTIVE, the Manager has 7-days to purchase a target. After this period, any Member can act on behalf of the DPO and the Management Fee will be permanently slashed in half (to punish the lazy manager).`}\n        <br /><br />\nNote: a DPO Member will act through its Manager.\n      </li>\n    </ul>\n    <p>{`Releasing Yields empties the `}<em parentName=\"p\">{`Yield Account`}</em>{` and distributes the yield by these rules:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Lazy Slashing`}</strong>{`: Management Fee for this release will be slashed in half if (1) the yield account has been accumulating for more than 5 days, and (2) the yield is not released by the manager.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Fair Reward`}</strong>{`: Yields after fee are distributed to the Manager and all Members in proportion to seat.`}</li>\n    </ul>\n    <h3>{`Referral and Bonuses`}</h3>\n    <p>{`Any user can refer any DPO to others. A user can have no referrer or a permanent referrer by token project (e.g. Alice and Bob can be the referrer for Charlie for project BOLT and project NCAT, respectively.`}</p>\n    <br /><br />\nAll Members of a DPO must have an **Internal Referrer**. If they were not referred by an existing Member (they have no referrer or was referred by a Non-Member, i.e. **External Referrer**), they will be assigned an Internal Referrer from the **Earlybird Queue**.\n    <br /><br />\nThe _Earlybird Queue_ works by **First Come, First Served**:\n    <ul>\n      <li parentName=\"ul\">{`A newly joined `}<em parentName=\"li\">{`User Member`}</em>{` (not DPO Member) will be placed in the `}<em parentName=\"li\">{`Earlybird Queue`}</em>{`.`}</li>\n      <li parentName=\"ul\">{`If the queue was priorly empty, the Manager will be assigned as the new Member's `}<em parentName=\"li\">{`Internal Referrer`}</em>{`.`}</li>\n      <li parentName=\"ul\">{`Otherwise, the first Member in the queue will be assigned as `}<em parentName=\"li\">{`Internal Referrer`}</em>{` and then removed from the Queue.`}</li>\n    </ul>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}><img parentName=\"th\" {...{\n              \"src\": \"/img/referral.png\",\n              \"alt\": \"referral\"\n            }}></img></th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`How to form a referral structure`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`We devised a `}<strong parentName=\"p\">{`Referral Point`}</strong>{` system, named Emit-Catch-Divide to record and reward contributions of all referrers of a DPO (both Internal and External).`}</p>\n    <br /><br />\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-math\"\n      }}>{`\n\n\n\n\nProperty 1:\n\n  Value in project's token for each Referral Point \n      = (Package Bonus / Package Price) * \n        (DPO's used amount / DPO's total raised amount)\n        \n  Also known as Bonus Rate (as shown in the image below)\n\n\n\n\n\n`}</code></pre>\n    <p>{`For example, if a DPO raised 2000 BOLTs and purchased a package costing 1000 BOLTs() giving 60 BOLTs Bonus),\nthen each Referral Point of that DPO will be worth (60 / 1000) _ (1000 / 2000) = 0.03 BOLT.`}</p>\n    <br /><br />\nIf a User Member's total value of seats is 300, it will emit 300 _ 0.03 = 9 BOLTs to its referrers.\n    <p>{`How do we enforce a global property while all DPOs of a DPO Chain are settled locally? This is mathematically guaranteed by Emit-Catch-Divide.`}</p>\n    <h4>{`Emit`}</h4>\n    <p>{`The Emit rule enables Referral Points to be settled at each individual DPO.\nUpon buying DPO seat(s) with a total value of X, X Referral Points of the DPO will be given to the buyer,\nexcept if it is a manager of a non Lead DPO. A Lead DPO is the DPO which buys a TravelCabin instead of seats of another DPO.`}</p>\n    <p>{`The buyer will emit respective amounts to referrers according to its role in the DPO:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Manager of this DPO =`}{`>`}{` emit nothing`}</li>\n      <li parentName=\"ul\">{`User Member =`}{`>`}{` emit X`}</li>\n      <li parentName=\"ul\">{`DPO Member =`}{`>`}{` emit X `}{`*`}{` (it's manager's number of seats / 100)`}</li>\n    </ul>\n    <h4>{`Catch`}</h4>\n    <p>{`The emitted `}<em parentName=\"p\">{`Referral Points`}</em>{` will then be caught by referrers as follows:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`if the Member has an `}<em parentName=\"li\">{`External Referrer`}</em>{`, its External Referrer will catch 30%.`}</li>\n      <li parentName=\"ul\">{`the remaining will be caught as follows:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`if the `}<em parentName=\"li\">{`Internal Referrer`}</em>{` is the `}<em parentName=\"li\">{`Manager`}</em>{`, the `}<em parentName=\"li\">{`Manager`}</em>{` will catch 100%`}</li>\n          <li parentName=\"ul\">{`if the `}<em parentName=\"li\">{`Internal Referrer`}</em>{` is a `}<em parentName=\"li\">{`Member`}</em>{`, the `}<em parentName=\"li\">{`Internal Referrer`}</em>{` will catch 80%, and the `}<em parentName=\"li\">{`Internal Referrer`}</em>{`'s `}<em parentName=\"li\">{`Internal Referrer`}</em>{` will catch the remaining 20%`}</li>\n        </ul>\n      </li>\n    </ul>\n    <h4>{`Divide`}</h4>\n    <p>{`Bonus Rewards received by the DPO will be divided proportionally according to the Referral Points each referrer related to the DPO holds.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}><img parentName=\"th\" {...{\n              \"src\": \"/img/bonus.png\",\n              \"alt\": \"allocate bonus\"\n            }}></img></th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"center\"\n          }}>{`How to allocate bonus.`}</td>\n        </tr>\n      </tbody>\n    </table>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}