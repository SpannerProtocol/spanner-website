(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[737],{9079:function(e,t,a){"use strict";a.d(t,{Z:function(){return C}});var r=a(5761),n=a(7399),l=a(5156),i=a(8522),o=a(5444),s=a(7294);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=(0,s.forwardRef)((function(e,t){var a=e.color,r=void 0===a?"currentColor":a,n=e.size,l=void 0===n?24:n,i=m(e,["color","size"]);return s.createElement("svg",u({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),s.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),s.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),s.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}))}));c.displayName="Menu";var p,d,h,f=c,b=a(9880),k=a(8032),g=a(9487),y=JSON.parse('{"r":{"General":["getting-started","glossary"],"Learn":["roadmap","web3","parameters",{"subcategory":"Basics","items":["architecture","bolt","governance"]},{"subcategory":"DeFi","items":["dex","yieldfarming"]},{"subcategory":"BulletTrain","items":["bullettrain","dpo-rules"]}],"Use":["spanner-dapp","supported-wallets"],"Build":["build-on-spanner","integration-guide","tools"],"Maintain":["network-maintainers","collator"]}}'),w=a(3600),N=a(5609),O=k.default.div.withConfig({displayName:"MdxLayout__HamburgerWrapper",componentId:"sc-613gxx-0"})(["cursor:pointer;:hover{opacity:0.8;}:active{opacity:0.9;}"]),v=k.default.div.withConfig({displayName:"MdxLayout__DocsGrid",componentId:"sc-613gxx-1"})(["display:grid;width:100%;grid-template-columns:min(180px) auto;grid-column-gap:1rem;grid-row-gap:1rem;",";"],(function(e){return e.theme.mediaWidth.upToSmall(p||(p=(0,r.Z)(["\n  display: flex;\n  "])))})),D=k.default.div.withConfig({displayName:"MdxLayout__DesktopWrapper",componentId:"sc-613gxx-2"})(["display:initial;",";"],(function(e){return e.theme.mediaWidth.upToSmall(d||(d=(0,r.Z)(["\n    display: none;\n"])))})),P=k.default.div.withConfig({displayName:"MdxLayout__MobileWrapper",componentId:"sc-613gxx-3"})(["display:none;",";"],(function(e){return e.theme.mediaWidth.upToSmall(h||(h=(0,r.Z)(["\n    display: initial;\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n"])))})),E=k.default.div.withConfig({displayName:"MdxLayout__IconWrapper",componentId:"sc-613gxx-4"})(["border:1 solid transparent;border-radius:4px;padding:0.35rem;background:",";"],(function(e){return e.theme.primary1}));function x(e){var t=(0,s.useMemo)((function(){var t={};return e.allMdx.nodes.forEach((function(e){if(e.frontmatter.path){var a=e.frontmatter.path.split("/").reverse()[0];t[a]=e.frontmatter}})),t}),[e]);return s.createElement(s.Fragment,null,Object.keys(y.r).map((function(e,a){return s.createElement(s.Fragment,null,s.createElement(w.H9,{key:a,fontSize:"20px",padding:"0.5rem 0"},e),y.r[e].map((function(e){return"string"==typeof e?Object.keys(t).includes(e)?s.createElement(s.Fragment,null,t[e].path&&s.createElement(i._,{to:t[e].path},s.createElement(w.xv,{key:t[e].title,padding:"0.15rem 0"},t[e].title))):null:"object"==typeof e?s.createElement(s.Fragment,null,s.createElement(w.H9,{fontSize:"16px",padding:"0.5rem 0"},e.subcategory),e.items.map((function(e){return Object.keys(t).includes(e)?s.createElement(s.Fragment,null,t[e].path&&s.createElement(i._,{to:t[e].path},s.createElement(w.xv,{key:t[e].title,padding:"0.15rem 0"},t[e].title))):null}))):null})))})))}function M(e){var t=e.navData;return s.createElement(s.Fragment,null,x(t))}function T(){var e=(0,b.Z)("(max-width: 720px)"),t=(0,o.useStaticQuery)("1120139937");return s.createElement(s.Fragment,null,e?s.createElement(P,null,s.createElement(I,{navData:t})):s.createElement(D,null,s.createElement(M,{navData:t})))}var A=(0,n.Z)({list:{width:250},fullList:{width:"auto"}});function I(e){var t=e.navData,a=(A(),s.useState(!1)),r=a[0],n=a[1],i=(0,s.useContext)(k.ThemeContext),o=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&n(e)}};return s.createElement(s.Fragment,null,s.createElement(O,{onClick:o(!0)},s.createElement(E,null,s.createElement(f,{size:24,color:i.white}))),s.createElement(l.ZP,{anchor:"right",open:r,onClose:o(!1)},s.createElement("div",{style:{padding:"1rem"}},x(t))))}function C(e){var t=e.children;return s.createElement(g.Z,null,s.createElement(N.vs,null,s.createElement(v,null,s.createElement(T,null),s.createElement(N.IH,{style:{overflow:"scroll"}},t))))}},5139:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return i},default:function(){return u}});var r=a(9756),n=(a(7294),a(3497)),l=a(9079),i={},o={_frontmatter:i},s=l.Z;function u(e){var t=e.components,a=(0,r.Z)(e,["components"]);return(0,n.kt)(s,Object.assign({},o,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Before you read on, make sure you have read the ",(0,n.kt)("a",{parentName:"p",href:"bullettrain.md"},"BulletTrain Overview"),". "),(0,n.kt)("h2",null,"DPO Statuses and Actions"),(0,n.kt)("h3",null,"CREATED"),(0,n.kt)("p",null,"A DPO is created by a ",(0,n.kt)("strong",{parentName:"p"},"Manager")," and has a ",(0,n.kt)("strong",{parentName:"p"},"Target")," objective and expiry (e.g. crowdfund 1000 BOLTs before block #10000). It has 100 equal-value seats for purchase to earn yields. A target can be to (1) buy an incentive package such as TravelCabin in BulletTrain or (2) chain to another DPO by buying its seats. On creation, the Manager specifies a ",(0,n.kt)("strong",{parentName:"p"},"Default Target")," which helps determine the DPO's crowdfunding amount."),(0,n.kt)("br",null),(0,n.kt)("br",null),"A Member can be a **User Member**, or a **DPO Member** (DPO buys seats of another DPO).",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"A Manager can buy 0 to 15 seats"),(0,n.kt)("li",{parentName:"ul"},"A User Member can buy 1 to 15 seats"),(0,n.kt)("li",{parentName:"ul"},"A DPO Member can buy 1 to 30 seats")),(0,n.kt)("p",null,"A DPO has 4 token accounts: "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Deposit Account")," to store funds raised from seats."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Yield Account")," to store yield and milestone rewards."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Bonus Account")," to store bonus rewards."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Withdraw Account")," to store the funds to be withdrawn by seat buyers.")),(0,n.kt)("p",null,"Funds in the latter three accounts can be released by anyone to their rightful owners. "),(0,n.kt)("h3",null,"ACTIVE"),(0,n.kt)("p",null,"If seats are sold out before expiry, the DPO becomes ACTIVE and is ready to purchase a target. If the ",(0,n.kt)("em",{parentName:"p"},"Default Target")," is still available, the DPO must buy it. Otherwise, it is free to buy another target. After buying a target, any unused funds will immediately be returned to its Members in proportion to seat. "),(0,n.kt)("h3",null,"FAILED"),(0,n.kt)("p",null,"If a DPO does not become ACTIVE before expiry, then it has FAILED. All funds in the ",(0,n.kt)("em",{parentName:"p"},"Deposit Account")," will go to its ",(0,n.kt)("em",{parentName:"p"},"Withdraw Account"),". No other actions are allowed except for withdrawing from this DPO. If the member is a DPO, the withdrawn amount will go to its deposit account, which can be used to buy another Target."),(0,n.kt)("h3",null,"RUNNING"),(0,n.kt)("p",null,"If a DPO has started receiving rewards."),(0,n.kt)("h3",null,"COMPLETED"),(0,n.kt)("p",null,"An ACTIVE DPO becomes COMPLETED upon a successful release of funds from the ",(0,n.kt)("em",{parentName:"p"},"Withdraw Account"),". This can only occur for two cases:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"The purchased Target is an incentive package (e.g. a TravelCabin), and it has matured. The funds will first be withdrawn from the package to the DPO's ",(0,n.kt)("em",{parentName:"li"},"Withdraw Account"),". Once the funds are released to its members, the DPO becomes COMPLETED."),(0,n.kt)("li",{parentName:"ol"},"The purchased Target is DPO, and is COMPLETED. This signals the DPO's funds have been returned to its ",(0,n.kt)("em",{parentName:"li"},"Withdraw Account"),". The DPO will also become COMPLETED once funds are released to its members.")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},(0,n.kt)("img",{parentName:"th",src:"/img/DPO_States.png",alt:"DPO States"})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DPO States and Transitions")))),(0,n.kt)("h2",null,"DPO Incentives"),(0,n.kt)("h3",null,"Management Fee and Yields"),(0,n.kt)("p",null,"The Management Fee is applied to each Yield release and is determined by these rules:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Skin In the Game"),": The fee is set as (5 + Z)%, where Z is the number of seats bought by the DPO Manager on creation. This fee will stay the same even if a manager decides to buy additional seats at a later time."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Lifetime Sentence"),": Once ACTIVE, the Manager has 7-days to purchase a target. After this period, any Member can act on behalf of the DPO and the Management Fee will be permanently slashed in half (to punish the lazy manager).",(0,n.kt)("br",null),(0,n.kt)("br",null),"Note: a DPO Member will act through its Manager.")),(0,n.kt)("p",null,"Releasing Yields empties the ",(0,n.kt)("em",{parentName:"p"},"Yield Account")," and distributes the yield by these rules:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Lazy Slashing"),": Management Fee for this release will be slashed in half if (1) the yield account has been accumulating for more than 5 days, and (2) the yield is not released by the manager."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Fair Reward"),": Yields after fee are distributed to the Manager and all Members in proportion to seat.")),(0,n.kt)("h3",null,"Referral and Bonuses"),(0,n.kt)("p",null,"Any user can refer any DPO to others. A user can have no referrer or a permanent referrer by token project (e.g. Alice and Bob can be the referrer for Charlie for project BOLT and project NCAT, respectively."),(0,n.kt)("br",null),(0,n.kt)("br",null),"All Members of a DPO must have an **Internal Referrer**. If they were not referred by an existing Member (they have no referrer or was referred by a Non-Member, i.e. **External Referrer**), they will be assigned an Internal Referrer from the **Earlybird Queue**.",(0,n.kt)("br",null),(0,n.kt)("br",null),"The _Earlybird Queue_ works by **First Come, First Served**:",(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"A newly joined ",(0,n.kt)("em",{parentName:"li"},"User Member")," (not DPO Member) will be placed in the ",(0,n.kt)("em",{parentName:"li"},"Earlybird Queue"),"."),(0,n.kt)("li",{parentName:"ul"},"If the queue was priorly empty, the Manager will be assigned as the new Member's ",(0,n.kt)("em",{parentName:"li"},"Internal Referrer"),"."),(0,n.kt)("li",{parentName:"ul"},"Otherwise, the first Member in the queue will be assigned as ",(0,n.kt)("em",{parentName:"li"},"Internal Referrer")," and then removed from the Queue.")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},(0,n.kt)("img",{parentName:"th",src:"/img/referral.png",alt:"referral"})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"How to form a referral structure")))),(0,n.kt)("p",null,"We devised a ",(0,n.kt)("strong",{parentName:"p"},"Referral Point")," system, named Emit-Catch-Divide to record and reward contributions of all referrers of a DPO (both Internal and External)."),(0,n.kt)("br",null),(0,n.kt)("br",null),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-math"},"\n\n\n\n\nProperty 1:\n\n  Value in project's token for each Referral Point \n      = (Package Bonus / Package Price) * \n        (DPO's used amount / DPO's total raised amount)\n        \n  Also known as Bonus Rate (as shown in the image below)\n\n\n\n\n\n")),(0,n.kt)("p",null,"For example, if a DPO raised 2000 BOLTs and purchased a package costing 1000 BOLTs() giving 60 BOLTs Bonus),\nthen each Referral Point of that DPO will be worth (60 / 1000) _ (1000 / 2000) = 0.03 BOLT."),(0,n.kt)("br",null),(0,n.kt)("br",null),"If a User Member's total value of seats is 300, it will emit 300 _ 0.03 = 9 BOLTs to its referrers.",(0,n.kt)("p",null,"How do we enforce a global property while all DPOs of a DPO Chain are settled locally? This is mathematically guaranteed by Emit-Catch-Divide."),(0,n.kt)("h4",null,"Emit"),(0,n.kt)("p",null,"The Emit rule enables Referral Points to be settled at each individual DPO.\nUpon buying DPO seat(s) with a total value of X, X Referral Points of the DPO will be given to the buyer,\nexcept if it is a manager of a non Lead DPO. A Lead DPO is the DPO which buys a TravelCabin instead of seats of another DPO."),(0,n.kt)("p",null,"The buyer will emit respective amounts to referrers according to its role in the DPO:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Manager of this DPO =",">"," emit nothing"),(0,n.kt)("li",{parentName:"ul"},"User Member =",">"," emit X"),(0,n.kt)("li",{parentName:"ul"},"DPO Member =",">"," emit X ","*"," (it's manager's number of seats / 100)")),(0,n.kt)("h4",null,"Catch"),(0,n.kt)("p",null,"The emitted ",(0,n.kt)("em",{parentName:"p"},"Referral Points")," will then be caught by referrers as follows:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"if the Member has an ",(0,n.kt)("em",{parentName:"li"},"External Referrer"),", its External Referrer will catch 30%."),(0,n.kt)("li",{parentName:"ul"},"the remaining will be caught as follows:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"if the ",(0,n.kt)("em",{parentName:"li"},"Internal Referrer")," is the ",(0,n.kt)("em",{parentName:"li"},"Manager"),", the ",(0,n.kt)("em",{parentName:"li"},"Manager")," will catch 100%"),(0,n.kt)("li",{parentName:"ul"},"if the ",(0,n.kt)("em",{parentName:"li"},"Internal Referrer")," is a ",(0,n.kt)("em",{parentName:"li"},"Member"),", the ",(0,n.kt)("em",{parentName:"li"},"Internal Referrer")," will catch 80%, and the ",(0,n.kt)("em",{parentName:"li"},"Internal Referrer"),"'s ",(0,n.kt)("em",{parentName:"li"},"Internal Referrer")," will catch the remaining 20%")))),(0,n.kt)("h4",null,"Divide"),(0,n.kt)("p",null,"Bonus Rewards received by the DPO will be divided proportionally according to the Referral Points each referrer related to the DPO holds."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},(0,n.kt)("img",{parentName:"th",src:"/img/bonus.png",alt:"allocate bonus"})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"How to allocate bonus.")))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-docs-dpo-rules-mdx-11541ced7ca5bc550080.js.map